{
  "variables": {
    "url": {
      "type": "string",
      "label": "x.com url",
      "default": "https://x.com"
    },
    "scroll_times": {
      "type": "number",
      "label": "number of scrolls",
      "default": 1
    }
  },
  "inputs": {
    "url": "https://x.com",
    "scroll_times": 1
  },
  "selectors": {
    "home_timeline_grp": "role:group|name:Home timeline",
    "more_button": "role:group|name:Home timeline >> role:group|name:Your Home Timeline >> role:button|name:More >> nth=0",
    "follow_button": "role:document|name:Home >> role:group >> nth=1 >> role:menuitem|name:Follow >> nth=0"
  },
  "steps": [
    {
      "tool_name": "navigate_browser",
      "arguments": {
        "url": "{{url}}",
        "browser": "firefox"
      }
    },
    {
      "group_name": "follow iter",
      "continue_on_error": true,
      "steps": [
        {
          "tool_name": "wait_for_element",
          "arguments": {
            "selector": "{{selectors.more_button}}",
            "condition": "exists",
            "timeout_ms": 10000,
            "retries": 2,
            "depth": 1000,
            "include_tree": false

          }
        },
        {
          "tool_name": "click_element",
          "arguments": {
            "selector": "{{selectors.more_button}}",
            "include_tree": false
          }
        },
        {
          "tool_name": "wait_for_element",
          "arguments": {
            "selector": "{{selectors.follow_button}}",
            "condition": "exists",
            "timeout_ms": 5000,
            "retries": 2,
            "depth": 1000,
            "include_tree": false

          }
        },
        {
          "tool_name": "click_element",
          "arguments": {
            "selector": "{{selectors.follow_button}}",
            "include_tree": false
          }
        },
        {
          "tool_name": "scroll_element",
          "arguments": {
            "selector": "{{selectors.home_timeline_grp}}",
            "amount": "{{scroll_times}}",
            "direction": "down",
            "include_tree": false
          }
        }
      ]
    }
  ]
}
